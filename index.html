<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Investment Calculator Ireland</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: white;
            background-color: #003366;
            padding: 10px;
            margin: 0 0 20px;
            border-radius: 5px;
        }

        .grid-container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .section {
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }

        .section label {
            display: block;
            font-size: 14px;
            color: #333;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .section input {
            width: 100%;
            padding: 8px;
            font-size: 16px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .section p {
            font-size: 15px;
            color: #666;
            margin-bottom: 10px;
        }

        .calculate-button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 20px;
        }

        .calculate-button:hover {
            background-color: #218838;
        }

        .result-section h3 {
            font-size: 18px;
            color: white;
            background-color: #c0392b;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
        }

        .result-section p {
            font-size: 18px;
            background-color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            text-align: center;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>House Investment Calculator</h1>

    <div class="grid-container">
        <!-- Left Section for Inputs -->
        <div class="section input-section">
            <h2>Input</h2>
            <label for="housePrice">House Price (€):</label>
			            <p>Please add the total value of the House.</p>
            <input type="number" id="housePrice" onchange="updateValues()">


            <label for="depositPercent">Deposit %:</label>
			            <p>Please add the deposit % you are going to deposit to the House (minimum 10%).</p>
            <input type="number" id="depositPercent" onchange="checkDepositPercent()">


            <label for="depositAmount">Deposit (€):</label>
			            <p>This field is calculated automatically based on the deposit % and house price.</p>
            <input type="text" id="depositAmount" value="€0.00" readonly>


            <label for="loanYears">Loan Terms (Years):</label>
			            <p>Please add the number of years you would like to have your mortgage.</p>
            <input type="number" id="loanYears" onchange="updateValues()">


            <label for="startDate">Start Date:</label>
			            <p>Please add the start date of your mortgage.</p>
            <input type="date" id="startDate">


            <label for="minInterestRate">Minimum Interest Rate (%):</label>
			            <p>Please add the interest rate.</p>
            <input type="number" id="minInterestRate" onchange="updateValues()">


            <label for="loanAmount">Loan Amount (€):</label>
			            <p>This field is calculated automatically based on the deposit amount.</p>
            <input type="text" id="loanAmount" value="€0.00" readonly>

        </div>

        <!-- Middle Section for Results -->
        <div class="section breakdown-section">
            <h2>Break Down</h2>
            <label for="monthlyRepayment">Monthly Payment:</label>
            <p id="monthlyRepayment">€0.00</p>

            <label for="totalPayment">Total Payment:</label>
            <p id="totalPayment">€0.00</p>

            <label for="costOfCredit">Cost of Credit:</label>
            <p id="costOfCredit">€0.00</p>

            <button class="calculate-button" onclick="calculateInvestment()">Calculate</button>
        </div>

        <!-- Right Section for One-Time Payments -->
        <div class="section payment-section">
            <h2>One-Time Payments</h2>
            <label for="stampDuty">Stamp Duty :</label>
			            <p>This field is calculated automatically as 1% of the house price.</p>
            <p id="stampDuty">€0.00</p>


            <label for="solicitorFees">Solicitor Fees :</label>
			            <p>This field is calculated automatically as 1% of the house price (between €1500 - €3000).</p>
            <p id="solicitorFees">€0.00</p>


            <label for="surveyor">Surveyor :</label>
			            <p>This field is calculated automatically as 0.2% of the house price (between €300 - €700).</p>
            <p id="surveyor">€0.00</p>


            <label for="propertyValuation">Property Valuation :</label>
			            <p>This field is calculated automatically as 0.08% of the house price (between €150 - €250).</p>
            <p id="propertyValuation">€0.00</p>


            <label for="mortgageArrangementFee">Mortgage Arrangement Fee :</label>
			            <p>This field is calculated automatically as 0.5% of the house price.</p>
            <p id="mortgageArrangementFee">€0.00</p>


            <label for="mortgageBrokerFees">Mortgage Broker Fees :</label>
			            <p>This field is calculated automatically as 0.2% of the house price (between €500 - €2000).</p>
            <p id="mortgageBrokerFees">€0.00</p>


            <label for="berCertificate">Building Energy Rating (BER) Certificate :</label>
			            <p>This field is calculated automatically as 0.08% of the house price (between €150 - €300).</p>
            <p id="berCertificate">€0.00</p>


            <label for="registrationFees">Registration Fees:</label>
			            <p>This field is calculated automatically as 0.27% of the house price (between €400 - €800).</p>
            <p id="registrationFees">€0.00</p>

        </div>
    </div>
</div>

<script>
function checkDepositPercent() {
    const depositPercent = parseFloat(document.getElementById("depositPercent").value);
    if (depositPercent < 10) {
        alert("Deposit % cannot be less than 10%.");
        document.getElementById("depositPercent").value = '';
        document.getElementById("depositAmount").value = '€0.00';
        document.getElementById("loanAmount").value = '€0.00';
    } else {
        updateValues();
    }
}

function updateValues() {
    const housePrice = parseFloat(document.getElementById("housePrice").value) || 0;
    const depositPercent = parseFloat(document.getElementById("depositPercent").value) || 0;
    const depositAmount = housePrice * (depositPercent / 100);
    document.getElementById("depositAmount").value = `€${depositAmount.toFixed(2)}`;

    // Calculate Loan Amount
    const loanAmount = housePrice - depositAmount;
    document.getElementById("loanAmount").value = `€${loanAmount.toFixed(2)}`;

    // Update One-Time Payments
    const stampDuty = housePrice * 0.01;
    document.getElementById("stampDuty").textContent = `€${stampDuty.toFixed(2)}`;

    const solicitorFees = Math.min(Math.max(housePrice * 0.01, 1500), 3000);
    document.getElementById("solicitorFees").textContent = `€${solicitorFees.toFixed(2)}`;

    const surveyor = Math.min(Math.max(housePrice * 0.002, 300), 700);
    document.getElementById("surveyor").textContent = `€${surveyor.toFixed(2)}`;

    const propertyValuation = Math.min(Math.max(housePrice * 0.0008, 150), 250);
    document.getElementById("propertyValuation").textContent = `€${propertyValuation.toFixed(2)}`;

    const mortgageArrangementFee = housePrice * 0.005;
    document.getElementById("mortgageArrangementFee").textContent = `€${mortgageArrangementFee.toFixed(2)}`;

    const mortgageBrokerFees = Math.min(Math.max(housePrice * 0.002, 500), 2000);
    document.getElementById("mortgageBrokerFees").textContent = `€${mortgageBrokerFees.toFixed(2)}`;

    const berCertificate = Math.min(Math.max(housePrice * 0.0008, 150), 300);
    document.getElementById("berCertificate").textContent = `€${berCertificate.toFixed(2)}`;

    const registrationFees = Math.min(Math.max(housePrice * 0.0027, 400), 800);
    document.getElementById("registrationFees").textContent = `€${registrationFees.toFixed(2)}`;
}

function calculateInvestment() {
    const housePrice = parseFloat(document.getElementById("housePrice").value) || 0;
    const depositAmount = parseFloat(document.getElementById("depositAmount").value.replace('€', '')) || 0;
    const loanYears = parseInt(document.getElementById("loanYears").value) || 0;
    const minInterestRate = parseFloat(document.getElementById("minInterestRate").value) / 100 || 0;

    if (!housePrice || !loanYears || !minInterestRate) {
        alert("Please fill in all required fields.");
        return;
    }

    // Monthly interest rate
    const monthlyInterestRate = minInterestRate / 12;
    const loanAmount = housePrice - depositAmount;

    // PMT formula: Monthly Repayment
    const monthlyRepayment = (loanAmount * monthlyInterestRate) / (1 - Math.pow(1 + monthlyInterestRate, -loanYears * 12));
    document.getElementById("monthlyRepayment").textContent = `€${monthlyRepayment.toFixed(2)}`;

    // Total Payment = Monthly Repayment * Total Months
    const totalPayment = monthlyRepayment * (loanYears * 12);
    document.getElementById("totalPayment").textContent = `€${totalPayment.toFixed(2)}`;

    // Cost of Credit = Total Payment - Loan Amount
    const costOfCredit = totalPayment - loanAmount;
    document.getElementById("costOfCredit").textContent = `€${costOfCredit.toFixed(2)}`;
}
</script>

</body>
</html>
